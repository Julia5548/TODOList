{"ast":null,"code":"var _jsxFileName = \"/home/julia/ToDoList/my-app/src/pages/todo-list/display-todo/index.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles, Typography, Button, AppBar, Toolbar } from '@material-ui/core';\nimport FormCreateTask from './components/formCreateTodo';\nimport { connect } from 'react-redux';\nimport { onLogoutAction, addTodoAction, onGetTodosAction } from '../../../store/actions';\nimport { reset } from 'redux-form';\nimport CardTodo from './components/cardList';\nimport { withRouter } from 'react-router-dom';\nimport { fetchGetTodo } from '../../../services/servicesTodo';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  title: {\n    flexGrow: 1\n  },\n  cardMedia: {\n    display: 'block'\n  }\n}));\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onCreateTodo: sortTodo => {\n      dispatch(addTodoAction(sortTodo));\n      dispatch(reset('create-todo'));\n    },\n    onLogout: () => {\n      dispatch(onLogoutAction());\n    },\n    onGetTodos: () => {\n      dispatch(onGetTodosAction());\n    }\n  };\n};\n\nconst mapStateToProps = state => ({\n  todos: state.todoList_reducer\n});\n\nexport const DisplayTodo = ({\n  onLogout,\n  onCreateTodo,\n  history,\n  ...props\n}) => {\n  const classes = useStyles();\n  const [todoList, setTodoList] = useState([]);\n  const pk = props.match.params;\n  useEffect(() => {\n    try {\n      fetchGetTodo(pk).then(todo => setTodoList(todo));\n      console.log(props.todos);\n    } catch (error) {\n      console.log('ERROR: ', error);\n    }\n  }, [pk]);\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    onLogout();\n    history.push('/');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, \"username\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"inherit\",\n    onClick: () => handleLogout(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, \"\\u0412\\u044B\\u0445\\u043E\\u0434\"))), /*#__PURE__*/React.createElement(FormCreateTask, {\n    onCreateTodo: onCreateTodo,\n    todoList: todoList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CardTodo, {\n    todoList: todoList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }));\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(DisplayTodo));","map":{"version":3,"sources":["/home/julia/ToDoList/my-app/src/pages/todo-list/display-todo/index.tsx"],"names":["React","useEffect","useState","makeStyles","Typography","Button","AppBar","Toolbar","FormCreateTask","connect","onLogoutAction","addTodoAction","onGetTodosAction","reset","CardTodo","withRouter","fetchGetTodo","useStyles","theme","root","flexGrow","title","cardMedia","display","mapDispatchToProps","dispatch","onCreateTodo","sortTodo","onLogout","onGetTodos","mapStateToProps","state","todos","todoList_reducer","DisplayTodo","history","props","classes","todoList","setTodoList","pk","match","params","then","todo","console","log","error","handleLogout","localStorage","removeItem","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { makeStyles, Typography, Button, AppBar, Toolbar } from '@material-ui/core';\nimport FormCreateTask from './components/formCreateTodo';\nimport { connect } from 'react-redux';\nimport {  onLogoutAction, addTodoAction, onGetTodosAction } from '../../../store/actions';\nimport { reset } from 'redux-form';\nimport { ITodoList } from '../../../interfaces/ITodoList';\nimport CardTodo from './components/cardList';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\nimport { fetchGetTodo } from '../../../services/servicesTodo';\n\n\ninterface IProps extends RouteComponentProps<{pk : string}>{\n    onCreateTodo(sortTodo : ITodoList) : void;\n    onLogout(): void;\n    onGetTodos(): void;\n    todos: ITodoList[];\n}\n\nconst useStyles = makeStyles((theme) => ({\n\n    root : {\n        flexGrow : 1,\n    },\n    title : {\n        flexGrow: 1,\n    },\n    cardMedia: {\n        display: 'block',\n    },\n}));\n\nconst mapDispatchToProps = (dispatch) => {\n    return({\n        onCreateTodo : (sortTodo : ITodoList) =>{\n            dispatch(addTodoAction(sortTodo))\n            dispatch(reset('create-todo'))\n        },\n        onLogout : () => { \n            dispatch(onLogoutAction()) \n        },\n        onGetTodos : () => {\n            dispatch(onGetTodosAction()) \n        }\n    });\n}\n\nconst mapStateToProps = (state) => ({\n    todos : state.todoList_reducer\n})\n\nexport const DisplayTodo : React.FC<IProps> = ({ onLogout, onCreateTodo, history, ...props} : IProps) => {\n    const classes = useStyles();\n    const [todoList, setTodoList] = useState<ITodoList[]>([]);\n    const pk : any = props.match.params;\n\n    useEffect(() => {\n            try{\n               fetchGetTodo(pk).then((todo) => setTodoList(todo));\n               console.log(props.todos)\n            }catch(error){\n                console.log('ERROR: ', error);\n            }\n    }, [pk])\n\n    const handleLogout = () => {\n        localStorage.removeItem('token');\n        onLogout();\n        history.push('/');\n    };\n\n    return(\n        <div className = {classes.root}>\n            <AppBar position = \"static\">\n                <Toolbar>\n                    <Typography variant=\"h6\" className = {classes.title}>\n                        username\n                    </Typography>\n                    <Button color=\"inherit\" onClick = {() => handleLogout()}>\n                        Выход\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <FormCreateTask onCreateTodo = {onCreateTodo} todoList = {todoList}/>\n            <CardTodo todoList = {todoList}/>\n        </div>\n    );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(DisplayTodo));"]},"metadata":{},"sourceType":"module"}