{"ast":null,"code":"var _jsxFileName = \"/home/julia/ToDoList/my-app/src/pages/todo-list/create-task/index.tsx\";\nimport React from 'react';\nimport { Grid, Button, makeStyles } from '@material-ui/core';\nimport { Field, reduxForm, reset } from 'redux-form';\nimport { renderTextField } from '../../../components/TextField';\nimport { connect } from 'react-redux';\nimport { addTaskAction, onInitalTaskAction } from '../../../store/actions';\nimport { fetchGetTask } from '../../../services/services_task';\nconst useStyles = makeStyles(theme => ({\n  field: {\n    marginLeft: theme.spacing(3),\n    width: '90%'\n  },\n  submit: {\n    marginTop: theme.spacing(1)\n  }\n}));\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onAddTask: newTask => {\n      dispatch(addTaskAction(newTask));\n      dispatch(reset('create-task'));\n    },\n    onInitialTask: task => {\n      dispatch(onInitalTaskAction(task));\n    }\n  };\n};\n\nconst mapStateToProps = state => ({\n  tasks: state.taskData.tasks\n});\n\nconst CreateTask = ({\n  idTodo,\n  onAddTask,\n  onInitialTask,\n  ...props\n}) => {\n  const classes = useStyles();\n\n  const submit = values => {\n    const newTask = {\n      id: null,\n      id_todo: idTodo,\n      title: values.title,\n      is_completed: false\n    };\n    onAddTask(newTask);\n    fetchGetTask(idTodo).then(task => {\n      console.log(task);\n\n      if (task.length !== 0) {\n        task.map(element => {\n          if (tasks.find(task => task === element) === undefined) {\n            onInitialTask(element);\n          }\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: props.handleSubmit(submit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"flex-start\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    className: classes.field,\n    component: renderTextField,\n    name: \"title\",\n    label: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0438\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    className: classes.submit,\n    size: \"small\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, \" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u0434\\u0430\\u0447\\u0443\"))));\n};\n\nconst form = reduxForm({\n  form: 'create-task'\n})(CreateTask);\nexport default connect(null, mapDispatchToProps)(form);","map":{"version":3,"sources":["/home/julia/ToDoList/my-app/src/pages/todo-list/create-task/index.tsx"],"names":["React","Grid","Button","makeStyles","Field","reduxForm","reset","renderTextField","connect","addTaskAction","onInitalTaskAction","fetchGetTask","useStyles","theme","field","marginLeft","spacing","width","submit","marginTop","mapDispatchToProps","dispatch","onAddTask","newTask","onInitialTask","task","mapStateToProps","state","tasks","taskData","CreateTask","idTodo","props","classes","values","id","id_todo","title","is_completed","then","console","log","length","map","element","find","undefined","handleSubmit","form"],"mappings":"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","sourcesContent":["import React from'react';\nimport { Grid, Button, makeStyles } from '@material-ui/core';\nimport { Field, reduxForm, InjectedFormProps, reset } from 'redux-form';\nimport { renderTextField } from '../../../components/TextField';\nimport { ITask } from '../../../interfaces/ITask';\nimport { connect } from 'react-redux';\nimport { addTaskAction, onInitalTaskAction } from '../../../store/actions';\nimport { fetchGetTask } from '../../../services/services_task';\n\n\ninterface IProps{\n    idTodo : number;\n    onAddTask(newTask : ITask) : void;\n    onInitialTask(task : ITask) : void;\n}\n\nconst useStyles = makeStyles((theme) => ({\n    field: {\n        marginLeft: theme.spacing(3),\n        width : '90%'\n    },\n    submit: {\n        marginTop : theme.spacing(1),\n    },\n}));\n\nconst mapDispatchToProps = (dispatch) => {\n    return({\n        onAddTask : (newTask : ITask) => {\n            dispatch(addTaskAction(newTask))\n            dispatch(reset('create-task'))\n        },\n        onInitialTask : (task : ITask) =>{\n            dispatch(onInitalTaskAction(task))\n        }\n    });\n}\nconst mapStateToProps = (state) => ({\n    tasks : state.taskData.tasks\n})\n\nconst CreateTask : React.FC<IProps & InjectedFormProps<{}, IProps>> = ({idTodo, onAddTask,onInitialTask, ...props}) => {\n    const classes = useStyles()\n    \n    const submit = values => {\n        const newTask : ITask = {\n            id: null,\n            id_todo : idTodo,\n            title: values.title,\n            is_completed : false\n        }\n        onAddTask(newTask)\n        fetchGetTask(idTodo)\n            .then((task) => {\n                console.log(task)\n                if(task.length !== 0){\n                    task.map((element) => {\n                        if(tasks.find((task) => task===element) === undefined){\n                            onInitialTask(element)\n                        }\n                    })  \n                }\n            });\n    };\n\n    return(\n        <form onSubmit = {props.handleSubmit(submit)}>\n            <Grid\n                container\n                direction=\"row\"\n                justify=\"flex-start\"\n                alignItems=\"center\"\n            > \n                <Grid item xs>\n                    <Field className = {classes.field} component= {renderTextField} name = \"title\" label = \"Введите наименование задачи\"/>\n                </Grid>\n                <Grid item xs={3}>\n                    <Button type = 'submit' className = {classes.submit} size = \"small\" color = \"primary\"> Добавить задачу</Button>\n                </Grid>\n            </Grid>\n        </form>\n    );\n}\n\nconst form = reduxForm<{}, IProps>({\n    form: 'create-task'\n})(CreateTask);\n\nexport default connect(null, mapDispatchToProps)(form);"]},"metadata":{},"sourceType":"module"}